= form_for @contact, html: {class: 'form-horizontal'} do |form|

  %fieldset
    %legend Personal Information
    .form-group
      %label.col-lg-2.control-label First Name:
      .col-lg-10
        = form.text_field :first_name, class: 'form-control', required: true
    
    .form-group
      %label.col-lg-2.control-label Last Name:
      .col-lg-10
        = form.text_field :last_name, class: 'form-control', required: true

    .form-group
      %label.col-lg-2.control-label Email:
      .col-lg-10
        = form.email_field :email, class: 'form-control', required: true

    .form-group
      %label.col-lg-2.control-label Address:
      .col-lg-10
        = form.text_field :address, class: 'form-control'

    .form-group
      %label.col-lg-2.control-label Address line 2:
      .col-lg-10
        = form.text_field :address_2, class: 'form-control'

    .form-group
      %label.col-lg-2.control-label Country:
      .col-lg-10
        = form.country_select :country_code, {prompt: 'Please select one'}, class: 'form-control', required: true
        
    .form-group
      %label.col-lg-2.control-label Region:
      #region-container.col-lg-10
        - if @contact.country_code.present?
          = form.select :state_code, Carmen::Country.coded(@contact.country_code).subregions.map {|region| [region.name, region.code]}, {prompt: 'Please select one'}, {class: 'form-control', required: true}
          

    .form-group
      %label.col-lg-2.control-label City:
      .col-lg-10
        = form.text_field :city, class: 'form-control'

    .form-group
      %label.col-lg-2.control-label Telephone:
      .col-lg-10
        = form.telephone_field :telephone, class: 'form-control', required: true

    .form-group
      %label.col-lg-2.control-label Cellphone:
      .col-lg-10
        = form.telephone_field :cellphone, class: 'form-control'


  %fieldset
    %legend Political Information

    .form-group
      %label.col-lg-2.control-label Organization:
      .col-lg-10
        = form.select :organization_id, Organization.all.map {|organization| [organization.name.humanize, organization.id]}, {prompt: 'Please select one'}, {class: 'form-control'}


    .form-group
      %label.col-lg-2.control-label Position within organization:
      .col-lg-10
        = form.text_field :position, class: 'form-control'

    .form-group
      %label.col-lg-2.control-label Political Position:
      .col-lg-10
        = form.select :political_position, Contact::POLITICAL_POSITIONS.map {|position| [position.last.humanize, position.first]}, {prompt: 'Please select one'}, {class: 'form-control'}

    .form-group
      %label.col-lg-2.control-label Level of trust:
      .col-lg-10
        = form.select :level_trust, [1,2,3,4,5], {prompt: 'Please select one'}, {class: 'form-control'}
  
    .form-group
      %label.col-lg-2.control-label Tags:
      .col-lg-10
        .tag_list
          - @contact.tags.each do |tag|
            %span.label.label-primary
              = tag.name
              %a{'href' => '#', class: 'remove-tag', 'data-tag' => tag.name} X
        = text_field_tag :tags, '', {class: 'form-control', id: 'tags-input'}
        
        = form.hidden_field :tag_list

  = form.submit class: 'btn btn-primary'